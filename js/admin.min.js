(()=>{"use strict";function e(e){Array.from(e.options).forEach((function(e){e.defaultSelected=!1}))}let t=[];function l(l,r=!0){!function(e){"undefined"!=typeof tinymce&&e.querySelectorAll(".wp-editor-area").forEach((e=>{let l=tinymce.get(e.id);null!=l&&(t[e.id]=l.settings,l.save(),l.remove())}))}(l);let o=l.cloneNode(!0);return o.querySelectorAll(".nice-select").forEach((e=>e.remove())),l.querySelectorAll(".wp-editor-area").forEach((e=>{null!=t[e.id]&&tinymce.init(t[e.id])})),r&&o.querySelectorAll("input,select,textarea").forEach((t=>{"checkbox"==t.type||"radio"==t.type?t.checked=!1:t.matches(".no-reset")||(t.value=""),"select-one"==t.type&&e(t)})),o.querySelectorAll("select").forEach((t=>{e(t),Main.attachNiceSelect(t)})),o}function r(e){e.querySelectorAll(":scope > .clone-div, :scope > .tablink").forEach((function(e,t){""!=e.id&&(e.id=e.id.replace(/[0-9]+(?!.*[0-9])/,t)),"button"==e.type&&""!=e.textContent&&(e.textContent=e.textContent.replace(/[0-9]+(?!.*[0-9])/,t+1),e.dataset.target=e.dataset.target.replace(/[0-9]+(?!.*[0-9])/,t)),null!=e.dataset.divId&&(e.dataset.divId=t),e.querySelectorAll("h3, h4, legend :first-child").forEach((e=>{e.textContent=e.textContent.replace(/[0-9]+(?!.*[0-9])/,t+1)})),e.querySelectorAll("input,select,textarea").forEach((e=>{e.classList.contains("nice-select-search")||(""!=e.id&&null!=e.id&&(e.id=e.id.replace(/[0-9]+(?!.*[0-9])/,t)),""!=e.name&&null!=e.name&&(e.name=e.name.replace(/[0-9]+(?!.*[0-9])/,t)),"button"==e.type&&(e.value=e.value.replace(/[0-9]+(?!.*[0-9])/,t)))}))}))}function o(e){let t=e.closest(".clone-div"),l=t.closest(".clone-divs-wrapper"),o=l.querySelectorAll(".clone-div");if(o[o.length-1]==t){let e=t.querySelector(".add"),l=t.previousElementSibling;null==l.querySelector(".button-wrapper .add")&&l.querySelector(".button-wrapper").appendChild(e)}if(t.matches(".tabcontent")){let e=l.querySelector(`.tablink[data-target="${t.id}"]`);if(null!=e){if(e.classList.contains("active")){let t=e.previousElementSibling;if(null!=t)t.classList.add("active"),Main.displayTab(t);else{let t=e.nextElementSibling;null!=t&&(t.classList.add("active"),Main.displayTab(t))}}e.remove()}}if(t.matches(".formstep")){let e=null,r=l.querySelector(`.formstep[data-div-id='${parseInt(t.dataset.divId)+1}']`);if(null!=r)e=r;else{let r=l.querySelector(`.formstep[data-div-id='${parseInt(t.dataset.divId)-1}']`);null!=r&&(e=r)}if(null!=e){let l=t.closest("form");null!=l&&null!=l.querySelector(".multi-step-controls-wrapper")&&(n(l),l.querySelectorAll(".formstep").forEach(((t,r)=>{t==e&&function(e,t){if(void 0!==t){if(0==e){let e=t.querySelector(".loader-wrapper:not(.hidden)");null!=e&&e.classList.add("hidden"),t.querySelector(".multi-step-controls.hidden").classList.remove("hidden")}t.querySelectorAll(".formstep:not(.step-hidden)").forEach((e=>e.classList.add("step-hidden")));let l=t.getElementsByClassName("formstep");if(0==l.length)return;let r=l[e].offsetTop-document.querySelector("#masthead").offsetHeight;window.scrollTo({top:r,behavior:"auto"}),l[e].classList.remove("step-hidden"),t.querySelectorAll(".step.active").forEach((e=>{e.classList.remove("active")})),l=t.getElementsByClassName("step");try{l[e].classList.add("active")}catch(t){console.log(l),console.log(e),console.error(t.message)}0==e?t.querySelector('[name="previous-button"]').classList.add("hidden"):t.querySelector('[name="previous-button"]').classList.remove("hidden"),e==l.length-1?(t.querySelector('[name="next-button"]').classList.add("hidden"),t.querySelector(".form-submit").classList.remove("hidden")):(t.querySelector('[name="next-button"]').classList.remove("hidden"),t.querySelector(".form-submit").classList.add("hidden"))}else console.log("no form defined")}(r,l)})))}}t.remove(),1==l.querySelectorAll(".clone-div").length&&l.querySelector(".remove").classList.add("hidden"),r(l)}function n(e){let t=e.querySelectorAll(".formstep"),l=e.querySelectorAll(".formstep:not(.hidden)"),r=e.querySelectorAll(".multi-step-controls-wrapper .step");r.forEach((e=>e.classList.remove("hidden")));for(let e=l.length;e<t.length;e++)r[e].classList.add("hidden");for(let l=r.length;l<t.length;l++){let t=document.createElement("span");t.classList.add("step"),e.querySelectorAll(".step-wrapper").forEach((e=>e.appendChild(t)))}let o=e.querySelector(".formstep:not(.step-hidden)");l[l.length-1]==o?(e.querySelector(".next-button").classList.add("hidden"),e.querySelector(".form-submit ").classList.remove("hidden")):(e.querySelector(".next-button").classList.remove("hidden"),e.querySelector(".form-submit ").classList.add("hidden"))}document.addEventListener("click",(function(e){let t=e.target;if(t.matches(".add"))(function(e){e.querySelectorAll(".remove.hidden").forEach((e=>e.classList.remove("hidden")));let t=l(e);t.querySelectorAll(".upload-files").forEach((function(e){e.dataset.index=nodeNr})),t.querySelectorAll(".document-preview").forEach((function(e){e.innerHTML=""}));let r=0;if(t.querySelectorAll("select").forEach((t=>{let l=e.getElementsByTagName("select")[r].selectedIndex;null!=t.options[l]&&(t.options[l].style.display="none"),Main.attachNiceSelect(t),r++})),e.matches(".tabcontent")){e.classList.add("hidden");let t=e.closest(".clone-divs-wrapper").querySelector(".tablink.active"),r=l(t);t.classList.remove("active"),t.parentNode.insertBefore(r,t.nextSibling)}if(e.parentNode.insertBefore(t,e.nextSibling),e.matches(".formstep")){t.classList.add("step-hidden");let l=e.closest("form");null!=l&&null!=l.querySelector(".multi-step-controls-wrapper")&&n(l);let r=e.querySelector(".add.button").textContent.replace("Add ","");Main.displayMessage(`Succesfully added an extra ${r}<br>Its added as the next page.`)}})(t.closest(".clone-div")),r(t.closest(".clone-divs-wrapper")),t.remove();else{if(!t.matches(".remove"))return;console.log(t),o(t)}e.stopImmediatePropagation()}))})();
//# sourceMappingURL=admin.min.js.map